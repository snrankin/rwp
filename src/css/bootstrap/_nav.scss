/// ======================================================================== ///
/// @name   _nav
///
/// @group  RWP
/// @since  1.0.0
/// @author RIESTER <wordpress@riester.com>
/// ======================================================================== ///

@import '~bootstrap/scss/nav';
@import '~bootstrap/scss/navbar';

.nav-item {
	position: relative;

	&.has-children {
		display: grid;
		grid-template-columns: 1fr cssvar(nav-icon-size);
	}
}

.sub-nav {
	min-width: 100%;
}

.nav-link {
	flex: 1 1 auto;
	display: flex;
	align-items: center;
	grid-row: 1/2;
	white-space: nowrap;
	position: relative;
	z-index: 2;
}

.nav-toggle {
	grid-row: 1/2;
	position: relative;
	z-index: 2;
}

.subnav {
	grid-column: 1/3;
	grid-row: 2/3;
	z-index: 2;
}

.navbar {
	@each $color, $value in $theme-colors {
		&.bg-#{$color} {
			.sub-nav {
				background-color: rgba(#{cssvar(primary-rgb)}, #{cssvar(bg-opacity)}) !important;
			}
		}
	}
}

// Generate series of `.navbar-expand-*` responsive classes for configuring
// where your navbar collapses.
.navbar-expand {
	@each $breakpoint in map-keys($grid-breakpoints) {
		$next: breakpoint-next($breakpoint, $grid-breakpoints);
		$infix: breakpoint-infix($next, $grid-breakpoints);

		&#{$infix} {
			@include media-breakpoint-up($next) {
				.sub-nav.level-1-menu.collapse {
					position: absolute;
					top: 100%;
					left: 0;
					z-index: $zindex-dropdown;
				}
			}
		}
	}
}
