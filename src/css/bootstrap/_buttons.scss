/// ======================================================================== ///
/// @name   _buttons
///
/// @group  RWP
/// @since  1.0.0
/// @author RIESTER <wordpress@riester.com>
/// ======================================================================== ///

@import '~bootstrap/scss/buttons';

.btn {
	display: inline-flex;
	justify-content: center;
	align-items: center;

	&[aria-expanded='true'],
	&[aria-selected='true'],
	&.active {
		> .btn-icon {
			.icon-opened {
				opacity: 1;
			}

			.icon-closed {
				opacity: 0;
			}
		}
	}
}

.btn-link {
	color: currentcolor;
	font-family: inherit;
	font-weight: inherit;
	font-size: inherit;
	text-decoration: underline;
}

.btn-text {
	display: inline-block;
}

.btn-icon {
	display: inline-block;
	position: relative;
	min-width: 1em;
	min-height: 1em;

	&.icon-right {
		margin-left: cssvar(spacer-default);
	}

	&.icon-left {
		margin-right: cssvar(spacer-default);
		order: -1;
	}

	&.has-spinner {
		.spinner {
			@include cover-absolute;
		}
	}

	&::before {
		content: '';
		display: block;
		width: 100%;
		padding-bottom: 100%;
	}

	.icon-opened {
		opacity: 0;
	}

	i,
	span:not(.toggle-bar) {
		@include cover-absolute;

		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		line-height: 2ex;
		font-size: inherit;
		color: currentcolor;
	}

	img {
		@include center-absolute;

		width: 100%;
		height: 100%;
		max-width: 100%;
		max-height: 100%;
		object-fit: contain;
		font-family: 'object-fit: contain';
	}

	svg {
		@include center-absolute;

		min-width: 100%;

		* {
			fill: currentcolor;
		}
	}
}

.submitting {
	.btn-icon.spinner {
		display: inline-block;
	}
}

.visually-hidden ~ .btn-icon {
	margin-right: 0;
	margin-left: 0;

	&.icon-left,
	&.icon-right {
		margin-right: 0;
		margin-left: 0;
	}
}

.btn-block {
	display: flex;
	width: 100%;

	.btn-text {
		flex: 1 1 auto;
	}
}
